-- start_ignore
-- end_ignore
set gp_workfile_type_hashjoin=buffile; 
SET
--SET gp_workfile_caching_loglevel="LOG"; 
set statement_mem=2048; 
SET
set gp_autostats_mode = none;
SET
drop table if exists t1_created; 
psql:/Users/gcaragea/dev/tincrepo/main/resource_management/spillfiles/space_accounting/output/test_create_table_cancel.sql:11: NOTICE:  table "t1_created" does not exist, skipping
DROP TABLE
begin; 
BEGIN
create table t1_created AS
SELECT t1.* FROM hj_skew AS t1, hj_skew AS t2 WHERE t1.i1=t2.i2;
psql:/Users/gcaragea/dev/tincrepo/main/resource_management/spillfiles/space_accounting/output/test_create_table_cancel.sql:16: NOTICE:  Table doesn't have 'DISTRIBUTED BY' clause -- Using column(s) named 'i1' as the Greenplum Database data distribution key for this table.
HINT:  The 'DISTRIBUTED BY' clause determines the distribution of data. Make sure column(s) chosen are the optimal data distribution key to minimize skew.
psql:/Users/gcaragea/dev/tincrepo/main/resource_management/spillfiles/space_accounting/output/test_create_table_cancel.sql:16: ERROR:  canceling MPP operation  (seg0 gcaragea-mbp.local:40050 pid=98270)
rollback; 
ROLLBACK
-- check used segspace after test
reset statement_mem; 
RESET
select * from mpp_23802_gp_workfile_segspace; 
 segid | size 
-------+------
     1 |    0
     0 |    0
    -1 |    0
(3 rows)

