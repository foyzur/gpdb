--start_ignore
revoke select on lineitem from high_0_pri_role;
REVOKE
revoke select on lineitem from low_0_pri_role;
REVOKE
revoke select on lineitem from low_1_pri_role;
REVOKE
revoke select on lineitem from low_2_pri_role;
REVOKE
revoke select on lineitem from low_3_pri_role;
REVOKE
drop user high_0_pri_role;
DROP ROLE
drop user low_0_pri_role;
DROP ROLE
drop user low_1_pri_role;
DROP ROLE
drop user low_2_pri_role;
DROP ROLE
drop user low_3_pri_role;
DROP ROLE
drop resource queue rq_high;
DROP QUEUE
drop resource queue rq_low;
DROP QUEUE
--end_ignore
-- Creating resource queue rq_high
create resource queue rq_high with (active_statements=100, priority=high);
CREATE QUEUE
-- Creating users with priority high
create user high_0_pri_role with nosuperuser resource queue rq_high;
CREATE ROLE
alter user high_0_pri_role with resource queue rq_high;
ALTER ROLE
grant select on lineitem to high_0_pri_role;
GRANT
-- Creating resource queue rq_low
create resource queue rq_low with (active_statements=100, priority=low);
CREATE QUEUE
-- Creating users with priority low
create user low_0_pri_role with nosuperuser resource queue rq_low;
CREATE ROLE
alter user low_0_pri_role with resource queue rq_low;
ALTER ROLE
grant select on lineitem to low_0_pri_role;
GRANT
-- Creating users with priority low
create user low_1_pri_role with nosuperuser resource queue rq_low;
CREATE ROLE
alter user low_1_pri_role with resource queue rq_low;
ALTER ROLE
grant select on lineitem to low_1_pri_role;
GRANT
-- Creating users with priority low
create user low_2_pri_role with nosuperuser resource queue rq_low;
CREATE ROLE
alter user low_2_pri_role with resource queue rq_low;
ALTER ROLE
grant select on lineitem to low_2_pri_role;
GRANT
-- Creating users with priority low
create user low_3_pri_role with nosuperuser resource queue rq_low;
CREATE ROLE
alter user low_3_pri_role with resource queue rq_low;
ALTER ROLE
grant select on lineitem to low_3_pri_role;
GRANT

