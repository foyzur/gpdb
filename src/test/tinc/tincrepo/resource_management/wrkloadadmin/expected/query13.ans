-- Test Workload Administration and Resource queuing

-- create resource queue
CREATE RESOURCE QUEUE myq21 ACTIVE THRESHOLD 7;
CREATE QUEUE

-- ALTER RESOURCE QUEUE
ALTER RESOURCE QUEUE myq21 COST THRESHOLD 70.0;
ALTER QUEUE
ALTER RESOURCE QUEUE myq21 COST THRESHOLD 3e+9 NOOVERCOMMIT;
ALTER QUEUE

-- select from pg_resqueue table
select * from pg_resqueue_status where rsqname='myq21';
 rsqname | rsqcountlimit | rsqcountvalue | rsqcostlimit | rsqcostvalue | rsqwaiters | rsqholders 
---------+---------------+---------------+--------------+--------------+------------+------------
 myq21   |             7 |             0 |        3e+09 |            0 |          0 |          0
(1 row)


-- drop resource queue
DROP RESOURCE QUEUE myq21;
DROP QUEUE

-- select from pg_resqueue_status table
--select * from pg_resqueue_status;



